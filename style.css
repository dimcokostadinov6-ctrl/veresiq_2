:root{
  --bg:#0d1117;          /* тъмна тема */
  --card:#161b22;
  --line:#1f6feb55;      /* сини линии */
  --ink:#ffffff;         /* мастило */
  --muted:#8b949e;
  --accent:#238636;      /* зелено */
  --accent-2:#1f6feb;    /* син */
  --danger:#d43c3c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;
  color:#e6edf3;
  background:var(--bg);
}

.toolbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  gap:8px; padding:10px 12px;
  background:linear-gradient(180deg,#0d1117 0%, #0d1117dd 100%);
  border-bottom:1px solid #222b36;
  backdrop-filter: blur(6px);
}
.toolbar .brand{font-weight:700; letter-spacing:.3px}
.toolbar .center{display:flex; flex-wrap:wrap; align-items:center; gap:8px}
.toolbar .right{display:flex; align-items:center; gap:8px}
.sep{width:1px; height:18px; background:#283242; margin:0 2px}

.btn{
  border:1px solid #2e3744; color:#e6edf3; background:#0f141b;
  padding:8px 12px; border-radius:10px; cursor:pointer;
  transition:.15s; user-select:none;
}
.btn:hover{border-color:#3b4656; transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn.primary{background:var(--accent); border-color:#2ea043}
.btn.outline{border-color:#2b3e66}
.btn.small{padding:4px 8px; font-size:.9rem}
.btn.block{width:100%}

.pen-only-toggle{display:inline-flex; gap:6px; align-items:center; color:var(--muted)}
.pen-only-toggle input{transform:scale(1.15)}

#main{height:calc(100vh - 60px); display:flex}
.canvas-wrap{
  position:relative; flex:1; overflow:hidden;
  background:
    repeating-linear-gradient(
      to bottom,
      transparent 0, transparent 22px,
      var(--line) 22px, var(--line) 24px
    ),
    linear-gradient(90deg, #0d1117 0, #0d1117);
  border-left:1px solid #18202b;
}

/* Самото платно */
#pad{
  display:block; width:100%; height:100%;
  touch-action:none;             /* спира скрола при рисуване */
  cursor:crosshair;
}

/* Drawer */
#drawer{
  position:fixed; right:-360px; top:0; width:360px; height:100%;
  background:var(--card); border-left:1px solid #263142;
  box-shadow:-10px 0 18px rgba(0,0,0,.25);
  transition:right .25s ease;
  display:flex; flex-direction:column; z-index:20;
}
#drawer.open{right:0}
.drawer-head{display:flex; align-items:center; justify-content:space-between; padding:12px; border-bottom:1px solid #263142}
.drawer-body{padding:12px; display:flex; flex-direction:column; gap:10px}
.drawer-body input{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid #2a3443;
  background:#0f141b; color:#e6edf3;
}
#results{margin-top:8px; display:flex; flex-direction:column; gap:8px; max-height:55vh; overflow:auto}
.result{background:#0f141b; border:1px solid #263142; border-radius:12px; padding:10px}
.result h4{margin:0 0 6px}
.result .sum{opacity:.85}

/* Тост */
#toast{position:fixed; left:50%; bottom:22px; transform:translateX(-50%); z-index:50}
#toast .msg{
  background:#111827; border:1px solid #2a3443; color:#e6edf3;
  padding:10px 14px; border-radius:12px; min-width:180px; text-align:center;
  box-shadow:0 10px 20px rgba(0,0,0,.35);
}
