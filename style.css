:root{
  --bg: #0b1220; --ink: #f1f5ff; --muted:#a9b9d7;
  --card:#0f172a; --border:#1f2a44; --accent:#2e6af1; --danger:#ff6b6b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:#eaf1ff;font:16px/1.45 system-ui,Segoe UI,Roboto,Arial}
.topbar{
  position:sticky;top:0;z-index:20;display:flex;align-items:center;gap:12px;
  padding:10px 12px;border-bottom:1px solid var(--border);background:#0e1630;
}
.brand{font-weight:700;letter-spacing:.3px}
.actions{margin-left:auto;display:flex;gap:8px}
.btn{
  background:#101a34;color:#dbe6ff;border:1px solid var(--border);
  padding:8px 12px;border-radius:10px;cursor:pointer
}
.btn.primary{background:linear-gradient(180deg,#2b6fdd,#1e4cae);border-color:#1d3778}
.btn.small{padding:6px 10px;font-size:14px}
.pill{background:#0a1326;border:1px solid var(--border);padding:4px 8px;border-radius:999px}
.msg{
  position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#0f172a;border:1px solid var(--border);
  color:#cfe0ff;padding:8px 12px;border-radius:10px;z-index:50
}
.hidden{display:none!important}

.layout{display:flex;min-height:calc(100vh - 54px)}
.canvas-wrap{position:relative;flex:1;min-width:0}
#pad{
  position:absolute;inset:0;width:100%;height:100%;display:block;cursor:crosshair;
  background: radial-gradient(1200px 800px at 70% 10%, #101c3a 0%, #0b1220 60%, #0a1020 100%);
  touch-action:none; /* без скрол над платното */
}
.hint{
  position:absolute;left:10px;bottom:10px;color:var(--muted);font-size:12px;opacity:.8;
  background:rgba(0,0,0,.25);padding:4px 8px;border-radius:8px;border:1px solid var(--border)
}

/* Десен панел – показва се/скрива се с клас .open на body */
.panel{
  width:360px;max-width:40vw;border-left:1px solid var(--border);background:var(--card);
  transform:translateX(100%);transition:transform .25s ease;overflow:auto
}
body.search-open .panel{transform:none}
.panel-head{padding:10px;border-bottom:1px solid var(--border)}
.panel input{
  width:100%;background:#0a1326;color:#e6eefc;border:1px solid var(--border);border-radius:10px;padding:10px 12px
}
.list{display:grid;gap:10px;padding:12px}
.item{
  background:#0f172a;border:1px solid var(--border);border-radius:12px;padding:10px 12px;
  display:flex;align-items:center;gap:10px
}
.item .grow{flex:1}
.item .title{font-weight:600}
.item .muted{color:var(--muted);font-size:12px}
.backrow{display:flex;gap:8px;align-items:center;padding:12px 12px 0}
#recordsList .item img{width:70px;height:42px;border-radius:8px;border:1px solid var(--border);object-fit:cover}
.del{border-color:#592828;color:#ffd0d0}
